<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <title>Guess a Number</title>
</head>

<body>
    <h1>Guess The Number</h1>

    <p id="guessMax"></p>

    <label for="guessedNumber">Guessed Number:</label>
    <input type="text" id="guessedNumber" style="width:500px ; border:none; color:rgb(28, 48, 195);">
    <br />

    <label for="info">Result :</label>
    <input type="text" id="info" style="width:500px ; border:none; color:red;">
    <br />

    <hr>
    <div class="form">
        <label for="guessField">Enter a guess: </label>
        <input type="text" id="guessField" class="guessField">
        <input type="submit" value="Submit guess" class="guessSubmit" id="submitguess">
    </div>

    <script type="text/javascript">
        var result = document.getElementById("info");
        var guessedNumber = document.getElementById("guessedNumber");
        var guessMax = document.getElementById("guessMax");
        var guessField = document.getElementById("guessField");

        window.onload = function maxGuess() {
            let N = prompt("Please enter the maximum number you want to guess", "Enter a number");
            if (isNaN(N)) {
                alert("It isn't a number.\nPlease enter a number");
                maxGuess();
            }
            else if (N < 1) {
                alert("Please enter a bigger number than 1.");
                document.location.reload();

            }
            else if (N != null && N != "") {

                guessMax.innerHTML = "Maximum number is: 1 - " + Math.floor(N);


                var num = Math.floor(Math.random() * Math.floor(N) + 1);
                console.log(num);

                var guessed = [];

                document.getElementById("submitguess").onclick = function () {


                    var gnum = Math.floor(document.getElementById("guessField").value);

                    const found = guessed.find(element => element == gnum);  //check if the number is already guessed
                    console.log(found);

                    if (isNaN(gnum)) {
                        alert("That is not a number!");

                    }
                    else if (gnum < 1) {
                        alert("Please enter a bigger number than 1.");

                    }
                    else if (parseInt(gnum) > parseInt(N)) {
                        alert("That number is not in range, try again.);
                    }
                    else if (found != undefined) {
                        alert("You already guessed this number: " + gnum);
                    }
                    else if (N != null && N != "") {

                        if (gnum == num) {
                            guessed.push(gnum);
                            guessedNumber.value = guessed;
                            result.value = "You got it! It took you "
                                + guessed.length + " tries.";
                        }
                        else if (gnum > num) {

                            guessed.push(gnum);
                            result.value = ("Sorry! Try a smaller number.")
                            guessField.value = gnum;
                            console.log(guessed);
                        }
                        else {

                            guessed.push(gnum);
                            result.value = ("Sorry! Try a bigger number.")
                            guessField.value = gnum;
                            console.log(guessed);
                        }
                    }
                }

            }
        };
    </script>
</body>

</html>
      
